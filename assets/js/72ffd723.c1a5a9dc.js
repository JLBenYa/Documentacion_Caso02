"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[698],{7024:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var a=s(4848),i=s(8453);const r={sidebar_position:2},o="Manual de Instalaci\xf3n",l={id:"Manuales-4/manual-instalacion",title:"Manual de Instalaci\xf3n",description:"Docker + GitLab + SSL",source:"@site/docs/Manuales-4/manual-instalacion.md",sourceDirName:"Manuales-4",slug:"/Manuales-4/manual-instalacion",permalink:"/Documentacion_Caso02/docs/Manuales-4/manual-instalacion",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Manuales-4/manual-instalacion.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Manual para Script de Instalaci\xf3n",permalink:"/Documentacion_Caso02/docs/Manuales-4/instalacion-docker"},next:{title:"Manual de Instalaci\xf3n",permalink:"/Documentacion_Caso02/docs/Manuales-4/manual-instalacion-linux"}},c={},d=[{value:"Docker + GitLab + SSL",id:"docker--gitlab--ssl",level:3},{value:"Descripci\xf3n",id:"descripci\xf3n",level:3},{value:"Requisitos previos",id:"requisitos-previos",level:3},{value:"Pasos",id:"pasos",level:3},{value:"Recomendaciones",id:"recomendaciones",level:3}];function t(e){const n={a:"a",br:"br",code:"code",h1:"h1",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"manual-de-instalaci\xf3n",children:"Manual de Instalaci\xf3n"}),"\n",(0,a.jsx)(n.h3,{id:"docker--gitlab--ssl",children:"Docker + GitLab + SSL"}),"\n",(0,a.jsx)(n.h3,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"Hemos elaborado un script para uso en instancias Linux, este es un archivo .sh que actualiza el sistema, instala las herramientas, sus dependencias, configura un certificado SSL renovable cada 90 d\xedas que debe ser confirmado en el proceso con su dominio y realiza todas las configuraciones previas, dejando el aplicativo listo para probar en menos de 20 minutos, su ejecuci\xf3n es muy sencilla."}),"\n",(0,a.jsx)(n.h3,{id:"requisitos-previos",children:"Requisitos previos"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Tener acceso a su servidor, vps, m\xe1quina virtual o local v\xeda SSH, en las instalaciones que realizamos para AWS o Google Cloud, hacemos entrega del usuario, la IP del servidor y la clave ssh que puede ser un archivo .ppk o .pem."}),"\n",(0,a.jsx)(n.li,{children:"Tener instalado una versi\xf3n de SSH en su m\xe1quina para conectarse de manera remota, puede utilizar Putty, Filezilla o una consola terminal."}),"\n",(0,a.jsx)(n.li,{children:"Es importante configurar su dominio apuntando a la IP de su instancia para que durante la ejecuci\xf3n del script se valide el certificado SSL y al finalizar la ejecuci\xf3n no tenga errores y todo est\xe9 listo para realizar pruebas. Edite los registros A y CNAME donde A debe contener su IP y CNAME el valor * (asterisco) para que se tomen los subdominios registrados por la herramienta."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Alt text",src:s(5700).A+"",width:"966",height:"527"})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"Durante la ejecuci\xf3n del script deber\xe1 almacenar en su dominio dos registros TXT con unos valores que se mostrar\xe1n en pantalla, estos registros son validados en directo y no pueden tardar m\xe1s de 2 minutos en validarse en su dominio."}),"\n",(0,a.jsx)(n.li,{children:"En caso de contar con servicios instalados en su instancia como MySQL, Apache o Nginx, debe detenerlos, ya que estos ocupan los puertos que pasar\xe1n a usarse con el aplicativo y los contenedores de Docker."}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"pasos",children:"Pasos"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Acceder a su instancia v\xeda SSH."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Loguearse como super usuario ejecutando ",(0,a.jsx)(n.code,{children:"sudo su"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Ubicarse en la carpeta del usuario, por ejemplo ",(0,a.jsx)(n.code,{children:"cd /home/ubuntu/"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Crear el archivo install ejecutando ",(0,a.jsx)(n.code,{children:"touch install.sh"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Editar el archivo con su editor preferido ejecutando ",(0,a.jsx)(n.code,{children:"nano install.sh"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"En el archivo debe agregar el contenido del siguiente enlace:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://gitlab.com/snippets/1852652",children:"https://gitlab.com/snippets/1852652"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Observar\xe1 a una p\xe1gina como la siguiente, donde debe copiar el contenido del script y pegarlo en su archivo install.sh, es importante que mantenga las estructura del mismo."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Alt text",src:s(191).A+"",width:"1000",height:"596"})}),"\n",(0,a.jsxs)(n.ol,{start:"7",children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Para salir de editor y guardar puede presionar \u201c",(0,a.jsx)(n.strong,{children:"ctrl + x"}),"\u201d seguidamente se le consultar\xe1 si desea guardar los cambios, confirme con \u201c",(0,a.jsx)(n.strong,{children:"y"}),"\u201d y luego \u201c",(0,a.jsx)(n.strong,{children:"enter"}),"\u201d."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Debe darle permisos de ejecuci\xf3n al archivo",":ejecute"," ",(0,a.jsx)(n.strong,{children:"chmod +x install.sh"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"El comando a utilizar requiere de dos par\xe1metros principalmente:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"./install.sh [repositorio] [dominio]"}),"\n",(0,a.jsx)(n.p,{children:"Por ejemplo:"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["./install.sh ",(0,a.jsx)(n.a,{href:"https://gitlab.com/rash07/facturadorpro2",children:"https://gitlab.com/rash07/facturadorpro2"})," elfacturador.com"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Una vez ejecutado el comando se iniciar\xe1 un proceso donde debe ir aceptando las preguntas y que le mostrar\xe1 en pantalla los valores que debe a\xf1adir en los 2 r\xe9cords tipo TXT de su dominio con nombre"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"_acme-challenge.example.com"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"_acme-challenge"})," (casos como godday y puntope)"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["En la siguiente imagen le muestran el valor como ",(0,a.jsx)(n.strong,{children:"v703JW"}),".... debera copiarlo y a\xf1adirlo al primer record TXT, seguidamente pulsar enter, se le mostrar\xe1 en pantalla un segundo valor para el segundo TXT"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Alt text",src:s(1174).A+"",width:"970",height:"251"})}),"\n",(0,a.jsxs)(n.ol,{start:"11",children:["\n",(0,a.jsx)(n.li,{children:"Editados los r\xe9cords en su dominio, deber\xe1 aceptar para continuar y que el proceso verifique que sea exitoso, de ser exitoso obtendr\xe1 una pantalla similar a la siguiente"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Alt text",src:s(4217).A+"",width:"977",height:"478"})}),"\n",(0,a.jsxs)(n.ol,{start:"12",children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Continuar\xe1 el proceso de actualizaci\xf3n del sistema, se le solicitar\xe1 el usuario y contrase\xf1a de GitLab, para que se pueda clonar/descargar el proyecto en su instancia, luego culminar\xe1 y tendr\xe1 los accesos listos en su dominio:"}),"\n",(0,a.jsxs)(n.p,{children:["Correo: ",(0,a.jsx)(n.a,{href:"mailto:admin@gmail.com",children:"admin@gmail.com"}),(0,a.jsx)(n.br,{}),"\n","Contrase\xf1a: 123456"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Una vez finalizado, puede proseguir con el manual de pruebas o dem\xe1s documentaci\xf3n de cada proyecto, sus URL son:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["PRO1: ",(0,a.jsx)(n.a,{href:"https://gitlab.com/rash07/facturadorpro1",children:"https://gitlab.com/rash07/facturadorpro1"})]}),"\n",(0,a.jsxs)(n.li,{children:["PRO2: ",(0,a.jsx)(n.a,{href:"https://gitlab.com/rash07/facturadorpro2",children:"https://gitlab.com/rash07/facturadorpro2"})]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"recomendaciones",children:"Recomendaciones"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Luego de instalar el facturador puede cambiar algunos par\xe1metros en el archivo .env como:","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"La direcci\xf3n de env\xedo de correos que utiliza el facturador para enviar los archivos pdf, xml y cdr a sus clientes"}),"\n",(0,a.jsx)(n.li,{children:"Cambiar algunas configuraciones de plantillas de los pdf"}),"\n",(0,a.jsx)(n.li,{children:"entre otros."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Recuerde que siempre que se edita el archivo .env debe utilizar el comando ",(0,a.jsx)(n.code,{children:"php artisan config:cache"})," dentro del contenedor de fpm1, para m\xe1s detalles puede observar el manual de actualizaci\xf3n ",(0,a.jsx)(n.a,{href:"https://docs.google.com/document/d/11PI1a9yjCPfH9CCuWmJSrdj1V8IEUffqurqvdkw29co/edit?usp=sharing",children:"aqu\xed"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"La ruta donde ejecute el script ser\xe1 donde se clone el repositorio, debe verificar que los usuarios del servidor tengan permisos a dicha ruta si desea acceder desde ftp o scp."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},5700:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/B1-b6fe7ecc222211c3af3e5cc566ff640b.png"},191:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/B2-8cd15df7a75125090ee36d88caa2463a.png"},1174:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/B3-1ef742b7291f5e81ef8f16d6604a4ae0.png"},4217:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/B4-057d3135f23957cded07d1da67deff9b.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var a=s(6540);const i={},r=a.createContext(i);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);